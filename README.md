# Django Menu App

Это приложение на Django реализует динамическое древовидное меню со следующими функциями:
- Меню реализовано с помощью Django template tag.
- Активный пункт меню определяется на основе URL текущей страницы, и его предки и дочерние элементы разворачиваются.
- Меню хранится в базе данных и управляется через интерфейс админки Django.
- Приложение поддерживает несколько меню на одной странице, идентифицируемых по имени.
- Для отображения каждого меню используется всего один запрос к базе данных.

## Возможности
1. Меню выводится с помощью пользовательского template tag (`{% draw_menu 'menu_name' %}`).
2. Активные пункты меню выделяются, а их подменю разворачиваются.
3. Пункты меню поддерживают как статические, так и именованные URL-адреса.
4. Полностью настраивается через панель администратора Django.

## Требования
Перед началом убедитесь, что у вас установлены следующие компоненты:
- Python 3.10 или выше
- Django 5.1.1
- Docker (по желанию, если хотите использовать Docker)

## Установка

### Шаг 1: Клонируйте репозиторий
```bash
git clone https://github.com/slippyslime/django-menu-app.git
cd django-menu-app
```

### Шаг 2: Создайте виртуальное окружение (необязательно, но рекомендуется)
```bash
python3 -m venv .venv
source .venv/bin/activate  # В Windows используйте `.venv\Scripts\activate`
```

### Шаг 3: Установите зависимости
```bash
pip install -r requirements.txt
```

### Шаг 4: Примените миграции
Убедитесь, что ваша база данных настроена корректно, применив миграции:
```bash
python manage.py migrate
```

### Шаг 5: Создайте суперпользователя
Вам понадобится администратор для доступа к интерфейсу админки:
```bash
python manage.py createsuperuser
```

### Шаг 6: Запустите сервер разработки
```bash
python manage.py runserver
```

Приложение будет доступно по адресу `http://127.0.0.1:8000/`.

### Шаг 7: Доступ к админке
Для управления меню перейдите в интерфейс администратора Django:
```bash
http://127.0.0.1:8000/admin/
```

Войдите, используя учетные данные суперпользователя, которые вы создали. Теперь вы можете создавать и управлять меню и их элементами.

## Настройка через Docker (по желанию)
Если вы предпочитаете использовать Docker для запуска проекта, выполните следующие шаги:

### Шаг 1: Соберите образ Docker
```bash
docker-compose build
```

### Шаг 2: Запустите приложение
```bash
docker-compose up
```

Приложение будет запущено по адресу `http://127.0.0.1:8000/`.

### Шаг 3: Выполните миграции и создайте суперпользователя
После запуска контейнера Docker, откройте другой терминал и выполните следующие команды внутри контейнера:
```bash
docker-compose exec web python manage.py migrate
docker-compose exec web python manage.py createsuperuser
```

## Как использовать
- Чтобы отобразить меню на любой странице, используйте пользовательский template tag:
  ```html
  {% draw_menu 'main_menu' %}
  ```
- Создавайте и редактируйте меню в админ-панели и задавайте URL-адреса для каждого пункта меню.
